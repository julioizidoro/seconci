<!DOCTYPE html>
<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/layout.xhtml">
	
	
	
	<ui:define name="content">
		<h1 class="ji-page-title">Consulta de Relatórios</h1>
		
		<h:form id="consultarelatorio">
			<p:toolbar>
				<p:toolbarGroup align="right">
					<p:commandButton value="Novo Relatório" action="#{consultaRelatorioMB.novo()}"/>
				</p:toolbarGroup>-
			</p:toolbar>
			 <p:dataTable id="tabelarelatorios" value="#{consultaRelatorioMB.listaRelatorio}" var="relatorio"
				style="margin-top: 20px;" scrollable="true" scrollHeight="300" reflow="true">
				<p:column headerText="Empresa">
					<h:outputLabel value="#{relatorio.empresa}"/>
				</p:column>
				<p:column headerText="Canteiro de Obras">
					<h:outputLabel value="#{relatorio.canteiroobras}"/>
				</p:column>
				<p:column headerText="Fase">
					<h:outputLabel value="#{relatorio.fase}"/>
				</p:column>
				<p:column headerText="Data da Visita">
					<h:outputLabel value="#{relatorio.data}">
						<f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo" />
					</h:outputLabel>
				</p:column>
				<p:column headerText="Técnico(a) Seconci">
					<h:outputLabel value="#{relatorio.usuario.nome}"/>
				</p:column>
				<p:column style="width:43px;text-align:center;">
					<p:commandLink action="#" title="Editar" style="text-decoration: none" >
						<i class="fa  fa-edit"/>
						<p:ajax event="dialogReturn" process="@this" update="tabelarelatorios" />
					</p:commandLink>  
				</p:column>  
			</p:dataTable> 
		</h:form>
	</ui:define>
	
</ui:composition>